{"version":3,"sources":["../../src/level.js"],"names":[],"mappings":";;;;;kBAGwB,K;;AAHxB;;AACA;;;;;;;;;;;;;EAEe,SAAS,KAAT,CAAe,UAAf,EAA2B;AACtC,iBAAc,cAAc,EAA5B;;AAEA,QAAI,CAAC,MAAM,OAAN,CAAc,UAAd,CAAL,EAAgC;AAC5B,qBAAa,WAAW,IAAX,GAAkB,KAAlB,CAAwB,GAAxB,CAAb;AACH;;AAED,QAAI,WAAW,MAAX,KAAsB,CAA1B,EAA6B;AACzB,eAAO;AAAA,gBAAC,QAAD,yDAAY,4BAAO,IAAnB;AAAA,mBAA4B,QAA5B;AAAA,SAAP;AACH;;AAED,QAAM,oBAAoB,WAAW,GAAX,CAAe;AAAA,eAAW,yBAAc,OAAd,CAAX;AAAA,KAAf,CAA1B;;AAEA,WAAO;AAAA,YAAC,QAAD,yDAAY,4BAAO,IAAnB;AAAA,YAAyB,GAAzB;AAAA,eAAiC,YAAY,4BAAO,KAAnB,GAA2B,QAA3B,GACnC,kBAAkB,IAAlB,CAAuB;AAAA,mBAAK,EAAE,KAAF,CAAQ,GAAR,CAAL;AAAA,SAAvB,IAA4C,4BAAO,GAAnD,GAAyD,QADvD;AAAA,KAAP;AAEH","file":"level.js","sourcesContent":["import { Minimatch } from 'minimatch';\nimport levels from 'nightingale-levels';\n\nexport default function level(debugValue) {\n    debugValue = (debugValue || '');\n\n    if (!Array.isArray(debugValue)) {\n        debugValue = debugValue.trim().split(',');\n    }\n\n    if (debugValue.length === 0) {\n        return (minLevel = levels.INFO) => minLevel;\n    }\n\n    const minimatchPatterns = debugValue.map(pattern => new Minimatch(pattern));\n\n    return (minLevel = levels.INFO, key) => minLevel <= levels.TRACE ? minLevel :\n        (minimatchPatterns.some(p => p.match(key)) ? levels.ALL : minLevel);\n}\n"]}