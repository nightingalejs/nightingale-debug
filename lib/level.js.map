{"version":3,"sources":["../src/level.js"],"names":[],"mappings":";;;;;kBAGwB,K;;AAHxB;;AACA;;;;;;;;;;;;;EAEe,SAAS,KAAT,CAAe,UAAf,EAA2B;AACtC,iBAAc,cAAc,EAA5B;;AAEA,QAAI,CAAC,MAAM,OAAN,CAAc,UAAd,CAAL,EAAgC;AAC5B,qBAAa,WAAW,IAAX,GAAkB,KAAlB,CAAwB,GAAxB,CAAb;AACH;;AAED,QAAI,WAAW,MAAX,KAAsB,CAA1B,EAA6B;AACzB,eAAO;AAAA,gBAAC,QAAD,yDAAY,4BAAO,IAAnB;AAAA,mBAA4B,QAA5B;AAAA,SAAP;AACH;;AAED,QAAI,WAAW,IAAX,CAAgB,SAAS,UAAU,GAAnC,CAAJ,EAA6C;AACzC,eAAQ,QAAD,IAAc,4BAAO,GAA5B;AACH;;AAED,UAAM,oBAAoB,WAAW,GAAX,CAAe,WAAW,yBAAc,OAAd,CAA1B,CAA1B;;AAEA,WAAO,YAAiC;AAAA,YAAhC,QAAgC,yDAArB,4BAAO,IAAc;AAAA,YAAR,GAAQ;;AACpC,YAAI,YAAY,4BAAO,KAAnB,IAA4B,CAAC,GAAjC,EAAsC;AAClC,mBAAO,QAAP;AACH;;AAED,eAAO,kBAAkB,IAAlB,CAAuB,KAAK,EAAE,KAAF,CAAQ,GAAR,CAA5B,IAA4C,4BAAO,GAAnD,GAAyD,QAAhE;AACH,KAND;AAOH","file":"level.js","sourcesContent":["import { Minimatch } from 'minimatch';\nimport levels from 'nightingale-levels';\n\nexport default function level(debugValue) {\n    debugValue = (debugValue || '');\n\n    if (!Array.isArray(debugValue)) {\n        debugValue = debugValue.trim().split(',');\n    }\n\n    if (debugValue.length === 0) {\n        return (minLevel = levels.INFO) => minLevel;\n    }\n\n    if (debugValue.some(value => value === '*')) {\n        return (minLevel) => levels.ALL;\n    }\n\n    const minimatchPatterns = debugValue.map(pattern => new Minimatch(pattern));\n\n    return (minLevel = levels.INFO, key) => {\n        if (minLevel <= levels.TRACE || !key) {\n            return minLevel;\n        }\n\n        return minimatchPatterns.some(p => p.match(key)) ? levels.ALL : minLevel;\n    };\n}\n"]}